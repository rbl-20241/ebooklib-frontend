<p-dialog
  header="Zoeken"
  appendTo="body"
  [modal]="true"
  [visible]="displaySearchDialog()"
  (visibleChange)="displaySearchDialog.set($event)"
  (onHide)="cancel()"
>

  <div class="dialog-form">

    <form [formGroup]="searchForm" (ngSubmit)="search()">

      <!-- Zoekargument -->
      <div class="dialog-input">
        <label for="searchArgument" class="block">
          Zoekargument:
        </label>

        <input
          type="text"
          pInputText
          formControlName="searchArgument"
        />

        @if(searchForm.get('searchArgument')?.invalid &&
        searchForm.get('searchArgument')?.dirty) {
          <small class="p-error block">
            Zoekargument is verplicht
          </small>
        }
      </div>

      <!-- Zoeken in -->
      <div class="dialog-input radio-group">
        <label class="block mb-3">Zoeken in:</label>

        @for(w of whereToSearchPlaces; track w.value) {
          <div class="flex align-items-center mb-2">
            <p-radioButton
              name="whereToSearch"
              class="small-radio"
              [value]="w.value"
              formControlName="whereToSearch">
            </p-radioButton>
            <label class="ml-2">{{ w.label }}</label>
          </div>
        }

        @if(searchForm.get('whereToSearch')?.invalid &&
        searchForm.get('whereToSearch')?.touched) {
          <small class="p-error block">
            Selecteer een rubriek
          </small>
        }
      </div>

      <!-- Hele woorden -->
      <div class="dialog-input radio-group">
        <label class="block mb-3">
          Alleen hele woorden zoeken:
        </label>

        @for(yn of yesNoRadioButtons; track yn.value) {
          <div class="flex align-items-center mb-2">
            <p-radioButton
              name="isExactMatch"
              class="small-radio"
              [value]="yn.value"
              formControlName="isExactMatch">
            </p-radioButton>
            <label class="ml-2">{{ yn.label }}</label>
          </div>
        }
      </div>

      <!-- Buttons -->
      <div class="mt-4 text-right">
        <button
          pButton
          pRipple
          type="button"
          class="dialog-button"
          (click)="cancel()"
        >
          <i class="pi pi-times" pButtonIcon></i>
          <span pButtonLabel>Annuleer</span>
        </button>

        <button
          pButton
          pRipple
          type="submit"
          class="dialog-button"
        >
          <i class="pi pi-search" pButtonIcon></i>
          <span pButtonLabel>Zoeken</span>
        </button>
      </div>

    </form>

  </div>

</p-dialog>

<app-yes-no-database></app-yes-no-database>
