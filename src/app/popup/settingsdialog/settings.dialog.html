<p-dialog
    header="Instellingen"
    [styleClass]="changeColor ? 'dialogSettings' : ''"
    [modal]="true"
    [(visible)]="displaySettingsDialog"
    (onHide)="cancel()"
>
  <p-card class="settings-form flex justify-content-center">
    <form [formGroup]="settingsForm" (ngSubmit)="saveSettings()">
      <div class="field settings-input">
        <label for="map" class="block">Folder waar boeken staan:</label>
        <input type="text" pInputText formControlName="map" />
        @if(settingsForm.get('map')?.invalid && settingsForm.get('map')?.dirty) {
          <small class="p-error block">Foldernaam is verplicht</small>
        }
      </div>

      <div class="field settings-input">
        <label for="copyTo" class="block">Kopieren naar:</label>
        <input type="text" pInputText formControlName="copyTo" />
        @if(settingsForm.get('copyTo')?.invalid && settingsForm.get('copyTo')?.dirty) {
          <small class="p-error block">Dit veld is verplicht</small>
        }
      </div>

      <div class="field settings-input">
        <label for="mailTo" class="block">Mailen naar:</label>
        <input type="text" pInputText formControlName="mailTo" />
        @if(settingsForm.get('mailTo')?.invalid && settingsForm.get('mailTo')?.dirty) {
          <small class="p-error block">Dit veld is verplicht</small>
        }
      </div>

      <div class="field settings-input">
        <label for="host" class="block">Host:</label>
        <input type="text" pInputText formControlName="host" />
        @if(settingsForm.get('host')?.invalid && settingsForm.get('host')?.dirty) {
          <small class="p-error block">Host is verplicht</small>
        }
      </div>

      <div class="field settings-input">
        <label for="port" class="block">Port:</label>
        <input type="text" pInputText formControlName="port" />
        @if(settingsForm.get('port')?.invalid && settingsForm.get('port')?.dirty) {
          <small class="p-error block">Port is verplicht</small>
        }
      </div>

      <div class="field settings-input">
        <label for="sendBy" class="block">Afzender:</label>
        <input type="text" pInputText formControlName="sendBy" />
        @if(settingsForm.get('sendBy')?.invalid && settingsForm.get('sendBy')?.dirty) {
          <small class="p-error block">Afzender is verplicht</small>
        }
      </div>

      <div class="field settings-input">
        <label for="password" class="block">Wachtwoord:</label><br/>
        <p-password formControlName="password" [toggleMask]="true" [feedback]="false">
        </p-password>
        @if(settingsForm.get('password')?.invalid && settingsForm.get('password')?.dirty) {
          <small class="p-error block">Wachtwoord is verplicht</small>
        }
      </div>

      <p>
        <button
          pButton
          pRipple
          type="button"
          class="settings-button"
          (click)="cancel()"
        >Annuleer
        </button>

        <button
          pButton
          pRipple
          type="submit"
          class="settings-button"
          (click)="saveSettings()"
        >Opslaan
        </button>

      </p>
    </form>
  </p-card>
</p-dialog>
<app-yes-no-database></app-yes-no-database>
