<p-dialog
  [showHeader]="false"
  appendTo="body"
  [modal]="true"
  [visible]="displayLogonDialog()"
  (visibleChange)="displayLogonDialog.set($event)"
  (onHide)="cancel()"
>
  <div class="logon-dialog-content">

    <div class="logon-dialog-text">
      <div>
        <p class="logon-title">Nieuw account voor eBook Library</p>

        <div class="dialog-form">
          <form [formGroup]="logonForm" (ngSubmit)="saveAccount()">
            <div class="field">
              <label for="username" class="block">Gebruikersnaam:</label>
              <input type="text" pInputText formControlName="username" />
              @if(logonForm.get('username')?.invalid && logonForm.get('username')?.dirty) {
                <small class="p-error block">Gebruikersnaam is verplicht</small>
              }
            </div>

            <div class="field">
              <label for="password" class="block">Wachtwoord:</label><br/>
              <p-password formControlName="password" [toggleMask]="true" [feedback]="false">
              </p-password>
              @if(logonForm.get('password')?.invalid && logonForm.get('password')?.dirty) {
                <small class="p-error block">Wachtwoord is verplicht</small>
              }
            </div>
          </form>
        </div>
      </div>

      <div class="logon-dialog-button">
        <button
          pButton
          pRipple
          type="button"
          class="dialog-button"
          (click)="saveAccount()"
        >
          <i class="pi pi-check" pButtonIcon></i>
          <span pButtonLabel>Ok</span>
        </button>

        <button
          pButton
          pRipple
          type="button"
          class="dialog-button"
          (click)="cancel()"
        >
          <i class="pi pi-times" pButtonIcon></i>
          <span pButtonLabel>Annuleren</span>
        </button>
      </div>

    </div>
  </div>
</p-dialog>
